# ==============================
# Application Configuration
# ==============================
spring.application.name=nutrition-service
server.port=${SERVER_PORT:8085}

# ==============================
# PostgreSQL Database Configuration
# ==============================
# Minikube: jdbc:postgresql://postgres-nutrition-service:5432/nutrition_service_db
# Local: jdbc:postgresql://localhost:5432/cooknectdb
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/cooknectdb}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:Sachit}
spring.datasource.driver-class-name=org.postgresql.Driver

# ==============================
# JPA / Hibernate Configuration
# ==============================
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ==============================
# Nutrition Service Configuration
# ==============================
nutrition.analysis.mode=${NUTRITION_ANALYSIS_MODE:local}

# External API Configuration
nutrition.api.ninjas.base-url=${NUTRITION_API_NINJAS_BASE_URL:https://api.api-ninjas.com/v1/nutrition}
nutrition.api.ninjas.app-key=VReknc/NK8IbMvg5rg7iKg==e45BmS810vLqjmmP

# ==============================
# Swagger Configuration
# ==============================
springdoc.api-docs.enabled=true
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# ==============================
# gRPC Client Configuration
# ==============================
# Minikube: recipe-service:9090
# Local: localhost:9090
grpc.client.recipe-service.address=${GRPC_CLIENT_RECIPE_SERVICE_ADDRESS:localhost:9090}
grpc.client.recipe-service.negotiationType=${GRPC_CLIENT_RECIPE_SERVICE_NEGOTIATION_TYPE:PLAINTEXT}
grpc.client.recipe-service.max-inbound-message-size=${GRPC_CLIENT_RECIPE_SERVICE_MAX_INBOUND_MESSAGE_SIZE:4194304}
grpc.client.recipe-service.keepalive-time=${GRPC_CLIENT_RECIPE_SERVICE_KEEPALIVE_TIME:30}
grpc.client.recipe-service.keepalive-timeout=${GRPC_CLIENT_RECIPE_SERVICE_KEEPALIVE_TIMEOUT:10}

# ==============================
# Actuator Configuration
# ==============================
management.endpoints.web.exposure.include=health

# ==============================
# Logging Configuration
# ==============================
logging.config=classpath:logback-nutrition.xml
logging.level.com.cooknect=DEBUG